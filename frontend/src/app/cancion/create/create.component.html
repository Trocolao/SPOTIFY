<div class="container">
    <h1 class="mb-4">Create New Song</h1>
    <a routerLink="/cancion/index" class="btn btn-primary mb-4">Back</a>

    <form [formGroup]="form" (ngSubmit)="submit(form)" class="bg-light p-4 rounded shadow-sm">
        <!-- Nombre input -->
        <div class="form-group">
            <label for="nombre" class="fw-bold">Nombre:</label>
            <input formControlName="nombre" id="nombre" type="text" class="form-control">
            <div *ngIf="f['nombre'].touched && f['nombre'].invalid" class="text-danger">
                <div *ngIf="f['nombre'].errors?.['required']">Nombre is required.</div>
            </div>
        </div>
  
        <!-- Genero input -->
        <div class="form-group">
            <label for="genero" class="fw-bold">Género:</label>
            <textarea formControlName="genero" id="genero" class="form-control"></textarea>
            <div *ngIf="f['genero'].touched && f['genero'].invalid" class="text-danger">
                <div *ngIf="f['genero'].errors?.['required']">Género is required.</div>
            </div>
        </div>

        <!-- Artista input -->
        <div class="form-group">
            <label for="artista" class="fw-bold">Artista:</label>
            <textarea formControlName="artista" id="artista" class="form-control"></textarea>
            <div *ngIf="f['artista'].touched && f['artista'].invalid" class="text-danger">
                <div *ngIf="f['artista'].errors?.['required']">Artista is required.</div>
            </div>
        </div>

        <!-- Audio input -->
        <div class="form-group">
            <label for="audio" class="fw-bold">Audio:</label>
            <input formControlName="audio" id="audio" type="file" accept="audio/*" class="form-control" (change)="onSelectFile($event)">
            <div *ngIf="f['audio'].touched && f['audio'].invalid" class="text-danger">
                <div *ngIf="f['audio'].errors?.['required']">Audio is required.</div>
            </div>
        </div>

        <!-- Audio player -->
        <audio *ngIf="audioSrc" controls style="width: 100%;">
            <source [src]="audioSrc" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>

        <!-- Submit button -->
        <button class="btn btn-primary mt-3" type="submit" [disabled]="!form.valid">Submit</button>
    </form>
</div>
